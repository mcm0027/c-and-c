var ccApi=angular.module("ccApi",["ngRoute","ngAnimate"]);ccApi.config(["$routeProvider",function(e){e.when("/",{templateUrl:"pages/home.html"}).when("/countries",{templateUrl:"pages/countries.html",controller:"listController"}).when("/countries/:country/:code",{templateUrl:"pages/country.html",controller:"searchController"})}]),ccApi.controller("listController",["$scope","getCountries",function(e,o){function r(o){e.response=o.geonames,console.log(e.response)}o.search().then(r)}]),ccApi.controller("searchController",["$scope","$routeParams","countrySearch","countryInfo","neighborCountries",function(e,o,r,n,t){function c(o){e.results=o.geonames[0]}function s(o){console.log(o.geonames[0]),e.infoResults=o.geonames[0],console.log(e.infoResults)}function u(o){console.log(o.geonames),e.resultsNeighbor=o.geonames,console.log(e.resultsNeighbor)}e.country=o.country,e.code=o.code,r.search(e.code).then(c),n.search(e.code).then(s),t.search(e.code).then(u)}]),ccApi.factory("getCountries",["$http","$q",function(e,o){var r={};return r.search=function(){var r=o.defer();return e.get("http://api.geonames.org/countryInfoJSON?username=mcm0027").success(function(e){r.resolve(e)}),r.promise},r}]),ccApi.factory("countrySearch",["$http","$q",function(e,o){var r={};return r.search=function(r){var n=o.defer();return e.get("http://api.geonames.org/searchJSON?username=mcm0027&style=LONG&maxRows=1&country="+r).success(function(e){n.resolve(e)}),n.promise},r}]),ccApi.factory("countryInfo",["$http","$q",function(e,o){var r={};return r.search=function(r){var n=o.defer();return e.get("http://api.geonames.org/countryInfoJSON?username=mcm0027&country="+r).success(function(e){n.resolve(e)}),n.promise},r}]),ccApi.factory("neighborCountries",["$http","$q",function(e,o){var r={};return r.search=function(r){var n=o.defer();return e.get("http://api.geonames.org/neighboursJSON?username=mcm0027&country="+r).success(function(e){n.resolve(e)}),n.promise},r}]);